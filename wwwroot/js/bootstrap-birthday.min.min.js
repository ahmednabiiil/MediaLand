/*!
 * Bootstrap-birthday v1.1.0 (https://github.com/lonalore/bootstrap-birthday)
 *
 * Licensed under MIT (https://github.com/lonalore/bootstrap-birthday/blob/master/LICENSE)
 */
!function(n){"use strict";var t={maxAge:120,minAge:0,futureDates:!1,maxYear:0,dateFormat:"littleEndian",monthFormat:"short",placeholder:!0,tabindex:null,text:{year:"Year",month:"Month",day:"Day",months:{short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]}},widget:{wrapper:{tag:"div","class":"input-group"},wrapperYear:{use:!0,tag:"span","class":"input-group-addon"},wrapperMonth:{use:!0,tag:"span","class":"input-group-addon"},wrapperDay:{use:!0,tag:"span","class":"input-group-addon"},selectYear:{name:"birthday[year]","class":"form-control input-sm"},selectMonth:{name:"birthday[month]","class":"form-control input-sm"},selectDay:{name:"birthday[day]","class":"form-control input-sm"}},onChange:function(){}};n.fn.bootstrapBirthday=function(i){var r={},u=function(u){r.settings=n.extend({},t,i);r.$element=n(u);f();e()},f=function(){r.$wrapper=n("<"+r.settings.widget.wrapper.tag+"/>");""!=r.settings.widget.wrapper.class&&r.$wrapper.attr("class",r.settings.widget.wrapper.class);r.$wrapperYear=n("<"+r.settings.widget.wrapperYear.tag+"/>");""!=r.settings.widget.wrapperYear.class&&r.$wrapperYear.attr("class",r.settings.widget.wrapperYear.class);r.$wrapperMonth=n("<"+r.settings.widget.wrapperMonth.tag+"/>");""!=r.settings.widget.wrapperMonth.class&&r.$wrapperMonth.attr("class",r.settings.widget.wrapperMonth.class);r.$wrapperDay=n("<"+r.settings.widget.wrapperDay.tag+"/>");""!=r.settings.widget.wrapperDay.class&&r.$wrapperDay.attr("class",r.settings.widget.wrapperDay.class);r.$year=n("<select><\/select>");""!=r.settings.widget.selectYear.name&&r.$year.attr("name",r.settings.widget.selectYear.name);""!=r.settings.widget.selectYear.class&&r.$year.attr("class",r.settings.widget.selectYear.class);r.$month=n("<select><\/select>");""!=r.settings.widget.selectMonth.name&&r.$month.attr("name",r.settings.widget.selectMonth.name);""!=r.settings.widget.selectMonth.class&&r.$month.attr("class",r.settings.widget.selectMonth.class);r.$day=n("<select><\/select>");""!=r.settings.widget.selectDay.name&&r.$day.attr("name",r.settings.widget.selectDay.name);""!=r.settings.widget.selectDay.class&&r.$day.attr("class",r.settings.widget.selectDay.class)},e=function(){var t,i,u;switch(1==r.settings.widget.wrapperYear.use?r.$wrapperYear.append(r.$year):r.$wrapperYear=r.$year,1==r.settings.widget.wrapperMonth.use?r.$wrapperMonth.append(r.$month):r.$wrapperMonth=r.$month,1==r.settings.widget.wrapperDay.use?r.$wrapperDay.append(r.$day):r.$wrapperDay=r.$day,r.settings.dateFormat){case"bigEndian":r.$wrapper.append(r.$wrapperYear).append(r.$wrapperMonth).append(r.$wrapperDay);null!=r.settings.tabindex&&(r.$year.attr("tabindex",r.settings.tabindex),r.$month.attr("tabindex",r.settings.tabindex++),r.$day.attr("tabindex",r.settings.tabindex++));break;case"littleEndian":r.$wrapper.append(r.$wrapperDay).append(r.$wrapperMonth).append(r.$wrapperYear);null!=r.settings.tabindex&&(r.$day.attr("tabindex",r.settings.tabindex),r.$month.attr("tabindex",r.settings.tabindex++),r.$year.attr("tabindex",r.settings.tabindex++));break;case"middleEndian":default:r.$wrapper.append(r.$wrapperMonth).append(r.$wrapperDay).append(r.$wrapperYear);null!=r.settings.tabindex&&(r.$month.attr("tabindex",r.settings.tabindex),r.$day.attr("tabindex",r.settings.tabindex++),r.$year.attr("tabindex",r.settings.tabindex++))}r.settings.placeholder&&(n("<option value='0'>"+r.settings.text.year+"<\/option>").appendTo(r.$year),n("<option value='0'>"+r.settings.text.month+"<\/option>").appendTo(r.$month),n("<option value='0'>"+r.settings.text.day+"<\/option>").appendTo(r.$day));n(this).attr("type","hidden");var s=new Date,f=s.getFullYear(),e=f-r.settings.minAge,h=f-r.settings.maxAge;for(r.settings.futureDates&&r.settings.maxYear!=f&&(e=r.settings.maxYear>1e3?r.settings.maxYear:f+r.settings.maxYear),t=e;t>=h;t--)n("<option><\/option>").attr("value",t).text(t).appendTo(r.$year);for(i=0;i<12;i++)n("<option><\/option>").attr("value",i+1).text(r.settings.text.months[r.settings.monthFormat][i]).appendTo(r.$month);for(u=1;u<32;u++)n("<option><\/option>").attr("value",u).text(u).appendTo(r.$day);r.$element.attr("type","hidden");r.$element.after(r.$wrapper);o();r.$wrapper.change(function(){var c=new Date,s=c.getMonth()+1,l=c.getDate(),u=parseInt(r.$year.val(),10),i=parseInt(r.$month.val(),10),f=parseInt(r.$day.val(),10),o=new Date(u,i,0).getDate(),t=parseInt(r.$month.children(":last").val()),n=parseInt(r.$day.children(":last").val()),h;if(n>o)for(;n>o;)r.$day.children(":last").remove(),n--;else if(n<o)for(;n<o;)n++,r.$day.append("<option value="+n+">"+n+"<\/option>");if(!r.settings.futureDates&&u==e){if(t>s){for(;t>s;)r.$month.children(":last").remove(),t--;r.$day.children(":first").attr("selected","selected")}if(i===s)for(;n>l;)r.$day.children(":last").remove(),n-=1}if(u!=e&&12!=t)for(;t<12;)r.$month.append("<option value="+(t+1)+">"+r.settings.text.months[r.settings.monthFormat][t]+"<\/option>"),t++;u*i*f!=0&&(i<10&&(i="0"+i),f<10&&(f="0"+f),h=u+"-"+i+"-"+f,r.$element.val(h),r.settings.onChange(h))})},o=function(){var i=r.$element.val(),t,n;if(""!=i){n=i.split("-");switch(r.settings.dateFormat){case"bigEndian":t=new Date(n[0]+"-"+n[1]+"-"+n[2]+"T00:00:00");break;case"littleEndian":t=new Date(n[2]+"-"+n[1]+"-"+n[0]+"T00:00:00");break;case"middleEndian":default:t=new Date(n[2]+"-"+n[0]+"-"+n[1]+"T00:00:00")}t&&(r.$year.val(t.getFullYear()),r.$month.val(t.getMonth()+1),r.$day.val(t.getDate()))}};u(this)}}(jQuery);